# İşlemi yapacak olan fonksiyonu tanımlıyoruz
function Write-Numbers {
    param (
        [int]$StartNumber
    )

    # StartNumber'dan 10'a kadar olan sayıları yazdıran döngü
    for ($i = $StartNumber; $i -le 10; $i++) {
        Write-Output "Number: $i"
        # Her bir sayıdan sonra kısa bir bekleme süresi ekliyoruz ki paralel işlem farkı görülebilsin
        Start-Sleep -Milliseconds 100
    }
}

# Paralel işlemleri başlatacak olan kod
$startNumbers = 1..5  # 1'den 5'e kadar sayılarla örnek veriyoruz

$startNumbers | ForEach-Object -Parallel {
    # Her bir sayı için Write-Numbers fonksiyonunu çağırıyoruz
    Write-Numbers -StartNumber $_
} -ThrottleLimit 5  # Aynı anda çalışacak maksimum paralel işlem sayısı
