using System;
using System.Collections.Generic;
using System.Web.Script.Serialization;
using System.Web.UI;

public partial class YourPage : Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        // Örnek JSON verisi
        string jsonData = "{\"viewsData\":[{\"name\":\"Virtual Machine Replicated VMs- Ediz&Ali\",\"description\":\"List of all the Virtual Machines(s) in your environment.\",\"rows\":[{\"cells\":{\"objId\":\"ABGBIBREPORT\",\"1\":\"Powered On\",\"2\":\"169.254.251.1\",\"3\":\"Other (64-bit)\"}},{\"cells\":{\"objId\":\"APCUPSEFT\",\"1\":\"Powered On\",\"2\":\"10.231.103.59\",\"3\":\"CentOS 4/5 (64-bit)\"}}]}]}";

        // JavaScriptSerializer ile deserialize et
        var serializer = new JavaScriptSerializer();
        var data = serializer.Deserialize<RootObject>(jsonData);

        // Her satırı Dictionary'e yaz
        var results = new Dictionary<string, Dictionary<string, string>>();
        foreach (var view in data.ViewsData)
        {
            foreach (var row in view.Rows)
            {
                var cells = row.Cells;
                results[cells["objId"]] = cells; // objId'yi anahtar olarak kullan
            }
        }

        // Sonuçları ekrana yazdır
        foreach (var entry in results)
        {
            Response.Write($"ID: {entry.Key}<br>");
            foreach (var cell in entry.Value)
            {
                Response.Write($"{cell.Key}: {cell.Value}<br>");
            }
            Response.Write("<br>");
        }
    }

    public class RootObject
    {
        public List<ViewData> ViewsData { get; set; }
    }

    public class ViewData
    {
        public string Name { get; set; }
        public string Description { get; set; }
        public List<RowData> Rows { get; set; }
    }

    public class RowData
    {
        public Dictionary<string, string> Cells { get; set; }
    }
}
